### Starting server for test 
88793:M 03 May 2025 23:04:22.624 # WARNING: Changing databases number from 16 to 1 since we are in cluster mode
88793:M 03 May 2025 23:04:22.624 * oO0OoO0OoO0Oo Valkey is starting oO0OoO0OoO0Oo
88793:M 03 May 2025 23:04:22.624 * Valkey version=255.255.255, bits=64, commit=06ac4d81, modified=0, pid=88793, just started
88793:M 03 May 2025 23:04:22.624 * Configuration loaded
88793:M 03 May 2025 23:04:22.624 * Increased maximum number of open files to 10032 (it was originally set to 256).
88793:M 03 May 2025 23:04:22.624 * monotonic clock: POSIX clock_gettime
88793:M 03 May 2025 23:04:22.624 # Failed to write PID file: Permission denied
                .+^+.                                                
            .+#########+.                                            
        .+########+########+.           Valkey 255.255.255 (06ac4d81/0) 64 bit
    .+########+'     '+########+.                                    
 .########+'     .+.     '+########.    Running in cluster mode
 |####+'     .+#######+.     '+####|    Port: 23125
 |###|   .+###############+.   |###|    PID: 88793                     
 |###|   |#####*'' ''*#####|   |###|                                 
 |###|   |####'  .-.  '####|   |###|                                 
 |###|   |###(  (@@@)  )###|   |###|          https://valkey.io      
 |###|   |####.  '-'  .####|   |###|                                 
 |###|   |#####*.   .*#####|   |###|                                 
 |###|   '+#####|   |#####+'   |###|                                 
 |####+.     +##|   |#+'     .+####|                                 
 '#######+   |##|        .+########'                                 
    '+###|   |##|    .+########+'                                    
        '|   |####+########+'                                        
             +#########+'                                            
                '+v+'                                                

88793:M 03 May 2025 23:04:22.624 # WARNING: The TCP backlog setting of 511 cannot be enforced because kern.ipc.somaxconn is set to the lower value of 128.
88793:M 03 May 2025 23:04:22.624 * No cluster configuration found, I'm 2d591a45518e281c917b205749fe5c4e702c9f77
88793:M 03 May 2025 23:04:22.631 * Server initialized
88793:M 03 May 2025 23:04:22.631 * Ready to accept connections tcp
88793:M 03 May 2025 23:04:22.631 * Ready to accept connections unix
88793:M 03 May 2025 23:04:22.751 - Accepted 127.0.0.1:60051
88793:M 03 May 2025 23:04:22.752 - Client closed connection id=2 addr=127.0.0.1:60051 laddr=127.0.0.1:23125 fd=14 name= age=0 idle=0 flags=N capa= db=0 sub=0 psub=0 ssub=0 multi=-1 watch=0 qbuf=0 qbuf-free=16890 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=33792 events=r cmd=ping user=default redir=-1 resp=2 lib-name= lib-ver= tot-net-in=7 tot-net-out=7 tot-cmds=1
88793:M 03 May 2025 23:04:22.760 - Accepted 127.0.0.1:60052
88793:M 03 May 2025 23:04:23.144 - Accepting cluster node connection from 127.0.0.1:60065
88793:M 03 May 2025 23:04:23.144 * IP address for this node updated to 127.0.0.1
88793:M 03 May 2025 23:04:23.351 - Accepting cluster node connection from 127.0.0.1:60090
88793:M 03 May 2025 23:04:23.376 * configEpoch collision with node eb27e8a31fc4f4931303e6e99823163f120ec625 (). configEpoch set to 4
88793:M 03 May 2025 23:04:23.387 - Accepting cluster node connection from 127.0.0.1:60092
88793:M 03 May 2025 23:04:23.387 - Accepting cluster node connection from 127.0.0.1:60094
88793:M 03 May 2025 23:04:23.396 - Accepting cluster node connection from 127.0.0.1:60097
88793:M 03 May 2025 23:04:23.418 # Missing implement of connection type tls
88793:M 03 May 2025 23:04:23.459 * Node 5e7258148493b50d1d5c17f39eb38fd9bd2429eb () is no longer primary of shard 404af2c90d112dd12f28e2540f99637c8d4dea41; removed all 0 slot(s) it used to own
88793:M 03 May 2025 23:04:23.459 * Node 5e7258148493b50d1d5c17f39eb38fd9bd2429eb () is now part of shard 64ab741a08553038e001253c530648617c44faa9
88793:M 03 May 2025 23:04:23.459 * Node 5e7258148493b50d1d5c17f39eb38fd9bd2429eb () is now a replica of node 7153ae3b781af1d605528196125b59db48c35204 () in shard 64ab741a08553038e001253c530648617c44faa9
88793:M 03 May 2025 23:04:23.460 * Node 773fb3ff4264425e11fe75778f273824f43ac0ee () is no longer primary of shard 5d3b1754a88c94b35868328128019186537968d9; removed all 0 slot(s) it used to own
88793:M 03 May 2025 23:04:23.460 * Node 773fb3ff4264425e11fe75778f273824f43ac0ee () is now part of shard c61924e7bb3910934136b69ca96be7537f05028d
88793:M 03 May 2025 23:04:23.460 * Node 773fb3ff4264425e11fe75778f273824f43ac0ee () is now a replica of node eb27e8a31fc4f4931303e6e99823163f120ec625 () in shard c61924e7bb3910934136b69ca96be7537f05028d
88793:M 03 May 2025 23:04:23.461 - Accepted 127.0.0.1:60104
88793:M 03 May 2025 23:04:23.462 * Node 729ce5e54cb4b7b885054e62242a94ebc05fafec () is no longer primary of shard b1e41d1dc30bee2a8be5eb1499f9a5e9333ffed6; removed all 0 slot(s) it used to own
88793:M 03 May 2025 23:04:23.462 * Node 729ce5e54cb4b7b885054e62242a94ebc05fafec () is now part of shard 344f71891258bca2234d8df2e7351b823bae7e8e
88793:M 03 May 2025 23:04:23.462 * Node 729ce5e54cb4b7b885054e62242a94ebc05fafec () is now a replica of node 2d591a45518e281c917b205749fe5c4e702c9f77 () in shard 344f71891258bca2234d8df2e7351b823bae7e8e
88793:M 03 May 2025 23:04:23.463 * Replica 127.0.0.1:23122 asks for synchronization
88793:M 03 May 2025 23:04:23.463 * Full resync requested by replica 127.0.0.1:23122
88793:M 03 May 2025 23:04:23.463 * Replication backlog created, my new replication IDs are '46d15e07393cb4adde457f41f56ba04d56f47cad' and '0000000000000000000000000000000000000000'
88793:M 03 May 2025 23:04:23.463 * Starting BGSAVE for SYNC with target: replicas sockets using: normal sync
88793:M 03 May 2025 23:04:23.463 * Background RDB transfer started by pid 88923 to pipe through parent process
88923:C 03 May 2025 23:04:23.463 * Fork CoW for RDB: current 0 MB, peak 0 MB, average 0 MB
88793:M 03 May 2025 23:04:23.465 * Diskless rdb transfer, done reading from pipe, 1 replicas still up.
88793:M 03 May 2025 23:04:23.465 # DEBUG LOG: ========== I am primary 2 ==========
88793:M 03 May 2025 23:04:23.540 * Background RDB transfer terminated with success
88793:M 03 May 2025 23:04:23.540 * Streamed RDB transfer with replica 127.0.0.1:23122 succeeded (socket). Waiting for REPLCONF ACK from replica to enable streaming
88793:M 03 May 2025 23:04:23.540 * Synchronization with replica 127.0.0.1:23122 succeeded
88793:M 03 May 2025 23:04:24.646 * Cluster state changed: ok
### Starting test Cluster is up in tests/unit/cluster/pubsubshard-slot-migration.tcl
88793:M 03 May 2025 23:04:33.284 - Accepted 127.0.0.1:60725
### Starting test Migrate a slot, verify client receives sunsubscribe on primary serving the slot. in tests/unit/cluster/pubsubshard-slot-migration.tcl
88793:M 03 May 2025 23:04:33.302 * Importing slot 10059 from node eb27e8a31fc4f4931303e6e99823163f120ec625 ()
88793:M 03 May 2025 23:04:33.304 * Assigning slot 10059 to node 2d591a45518e281c917b205749fe5c4e702c9f77 () in shard 344f71891258bca2234d8df2e7351b823bae7e8e
88793:M 03 May 2025 23:04:33.304 * New configEpoch set to 6
88793:M 03 May 2025 23:04:33.304 * ConfigEpoch updated after importing slot 10059
### Starting test Client subscribes to multiple channels, migrate a slot, verify client receives sunsubscribe on primary serving the slot. in tests/unit/cluster/pubsubshard-slot-migration.tcl
### Starting test Migrate a slot, verify client receives sunsubscribe on replica serving the slot. in tests/unit/cluster/pubsubshard-slot-migration.tcl
88793:M 03 May 2025 23:04:33.317 - Accepted 127.0.0.1:60740
88793:M 03 May 2025 23:04:33.327 * configEpoch collision with node eb27e8a31fc4f4931303e6e99823163f120ec625 (). configEpoch set to 7
88793:M 03 May 2025 23:04:33.405 * Importing slot 8379 from node eb27e8a31fc4f4931303e6e99823163f120ec625 ()
88793:M 03 May 2025 23:04:33.412 * Assigning slot 8379 to node 2d591a45518e281c917b205749fe5c4e702c9f77 () in shard 344f71891258bca2234d8df2e7351b823bae7e8e
### Starting test Move a replica to another primary, verify client receives sunsubscribe on replica serving the slot. in tests/unit/cluster/pubsubshard-slot-migration.tcl
88793:M 03 May 2025 23:04:33.414 - Accepted 127.0.0.1:60768
88793:M 03 May 2025 23:04:33.454 * Node 5e7258148493b50d1d5c17f39eb38fd9bd2429eb () is now a replica of node eb27e8a31fc4f4931303e6e99823163f120ec625 () in shard c61924e7bb3910934136b69ca96be7537f05028d
### Starting test Delete a slot, verify sunsubscribe message in tests/unit/cluster/pubsubshard-slot-migration.tcl
### Starting test Reset cluster, verify sunsubscribe message in tests/unit/cluster/pubsubshard-slot-migration.tcl
88793:M 03 May 2025 23:04:33.459 - Accepted 127.0.0.1:60779
88793:M 03 May 2025 23:04:33.461 * Cluster reset (user request from 'id=7 addr=127.0.0.1:60725 laddr=127.0.0.1:23125 fd=26 name= user=default lib-name= lib-ver=').
88793:M 03 May 2025 23:04:33.461 * configEpoch set to 0 via CLUSTER RESET HARD
88793:M 03 May 2025 23:04:33.461 * Node hard reset, now I'm 25bdae293a3fad2f5a6c07714316f442ebc083c2
88793:M 03 May 2025 23:04:33.461 # Cluster state changed: fail
88793:M 03 May 2025 23:04:33.461 # Cluster is currently down: I am part of a minority partition.
88793:M 03 May 2025 23:04:33.465 - Client closed connection id=7 addr=127.0.0.1:60725 laddr=127.0.0.1:23125 fd=26 name= age=0 idle=0 flags=N capa= db=0 sub=0 psub=0 ssub=0 multi=-1 watch=0 qbuf=0 qbuf-free=16890 argv-mem=0 multi-mem=0 rbs=1024 rbp=5 obl=0 oll=0 omem=0 tot-mem=18432 events=r cmd=cluster|reset user=default redir=-1 resp=2 lib-name= lib-ver= tot-net-in=438 tot-net-out=25 tot-cmds=9
88793:M 03 May 2025 23:04:33.466 - Client closed connection id=10 addr=127.0.0.1:60779 laddr=127.0.0.1:23125 fd=29 name= age=0 idle=0 flags=N capa= db=0 sub=0 psub=0 ssub=0 multi=-1 watch=0 qbuf=0 qbuf-free=16890 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=33824 events=r cmd=ssubscribe user=default redir=-1 resp=2 lib-name= lib-ver= tot-net-in=30 tot-net-out=70 tot-cmds=1
### Starting test Check for memory leaks (pid 88851) in tests/unit/cluster/pubsubshard-slot-migration.tcl
88793:M 03 May 2025 23:04:33.478 - Accepting cluster node connection from 127.0.0.1:60783
88793:M 03 May 2025 23:04:33.488 - Accepting cluster node connection from 127.0.0.1:60797
88793:M 03 May 2025 23:04:33.488 - Accepting cluster node connection from 127.0.0.1:60798
88793:M 03 May 2025 23:04:33.495 - Accepting cluster node connection from 127.0.0.1:60800
88793:M 03 May 2025 23:04:33.527 - Accepting cluster node connection from 127.0.0.1:60806
### Starting test Check for memory leaks (pid 88815) in tests/unit/cluster/pubsubshard-slot-migration.tcl
88793:M 03 May 2025 23:04:35.960 - Client closed connection id=3 addr=127.0.0.1:60052 laddr=127.0.0.1:23125 fd=14 name= age=13 idle=2 flags=N capa= db=0 sub=0 psub=0 ssub=0 multi=-1 watch=0 qbuf=0 qbuf-free=16890 argv-mem=0 multi-mem=0 rbs=1024 rbp=526 obl=0 oll=0 omem=0 tot-mem=18432 events=r cmd=cluster|info user=default redir=-1 resp=2 lib-name= lib-ver= tot-net-in=321 tot-net-out=4790 tot-cmds=9
88793:signal-handler (1746281077) Received SIGTERM scheduling shutdown...
88793:M 03 May 2025 23:04:37.114 * User requested shutdown...
88793:M 03 May 2025 23:04:37.114 * 1 of 1 replicas are in sync when shutting down.
88793:M 03 May 2025 23:04:37.114 * Removing the pid file.
88793:M 03 May 2025 23:04:37.114 * Saving the cluster configuration file before exiting.
88793:M 03 May 2025 23:04:37.120 * Removing the unix socket file.
88793:M 03 May 2025 23:04:37.121 # Valkey is now ready to exit, bye bye...

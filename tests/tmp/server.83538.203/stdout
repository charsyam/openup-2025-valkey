### Starting server for test replica can handle EINTR if use diskless load in tests/integration/replication.tcl
19553:M 03 May 2025 23:10:16.941 * oO0OoO0OoO0Oo Valkey is starting oO0OoO0OoO0Oo
19553:M 03 May 2025 23:10:16.941 * Valkey version=255.255.255, bits=64, commit=06ac4d81, modified=0, pid=19553, just started
19553:M 03 May 2025 23:10:16.941 * Configuration loaded
19553:M 03 May 2025 23:10:16.942 * Increased maximum number of open files to 10032 (it was originally set to 256).
19553:M 03 May 2025 23:10:16.942 * monotonic clock: POSIX clock_gettime
19553:M 03 May 2025 23:10:16.942 # Failed to write PID file: Permission denied
                .+^+.                                                
            .+#########+.                                            
        .+########+########+.           Valkey 255.255.255 (06ac4d81/0) 64 bit
    .+########+'     '+########+.                                    
 .########+'     .+.     '+########.    Running in standalone mode
 |####+'     .+#######+.     '+####|    Port: 27712
 |###|   .+###############+.   |###|    PID: 19553                     
 |###|   |#####*'' ''*#####|   |###|                                 
 |###|   |####'  .-.  '####|   |###|                                 
 |###|   |###(  (@@@)  )###|   |###|          https://valkey.io      
 |###|   |####.  '-'  .####|   |###|                                 
 |###|   |#####*.   .*#####|   |###|                                 
 |###|   '+#####|   |#####+'   |###|                                 
 |####+.     +##|   |#+'     .+####|                                 
 '#######+   |##|        .+########'                                 
    '+###|   |##|    .+########+'                                    
        '|   |####+########+'                                        
             +#########+'                                            
                '+v+'                                                

19553:M 03 May 2025 23:10:16.942 # WARNING: The TCP backlog setting of 511 cannot be enforced because kern.ipc.somaxconn is set to the lower value of 128.
19553:M 03 May 2025 23:10:16.942 * Server initialized
19553:M 03 May 2025 23:10:16.942 * Ready to accept connections tcp
19553:M 03 May 2025 23:10:16.943 * Ready to accept connections unix
19553:M 03 May 2025 23:10:17.063 - Accepted 127.0.0.1:50485
19553:M 03 May 2025 23:10:17.063 - Client closed connection id=2 addr=127.0.0.1:50485 laddr=127.0.0.1:27712 fd=12 name= age=0 idle=0 flags=N capa= db=0 sub=0 psub=0 ssub=0 multi=-1 watch=0 qbuf=0 qbuf-free=16890 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=33792 events=r cmd=ping user=default redir=-1 resp=2 lib-name= lib-ver= tot-net-in=7 tot-net-out=7 tot-cmds=1
19553:M 03 May 2025 23:10:17.071 - Accepted 127.0.0.1:50486
19553:S 03 May 2025 23:10:17.223 * Before turning into a replica, using my own primary parameters to synthesize a cached primary: I may be able to synchronize with the new primary with just a partial transfer.
19553:S 03 May 2025 23:10:17.223 * Connecting to PRIMARY 127.0.0.1:27713
19553:S 03 May 2025 23:10:17.223 * PRIMARY <-> REPLICA sync started
19553:S 03 May 2025 23:10:17.223 * REPLICAOF 127.0.0.1:27713 enabled (user request from 'id=3 addr=127.0.0.1:50486 laddr=127.0.0.1:27712 fd=12 name= user=default lib-name= lib-ver=')
19553:S 03 May 2025 23:10:17.223 * Non blocking connect for SYNC fired the event.
19553:S 03 May 2025 23:10:17.223 * Primary replied to PING, replication can continue...
19553:S 03 May 2025 23:10:17.223 * Trying a partial resynchronization (request 9f1120a9a44bad00e5f382ffc3a13ea2173cf850:1).
19553:S 03 May 2025 23:10:17.223 * Full resync from primary: 33667240f0dc8e3a0a297e398981e6784f18d6f6:0
19553:S 03 May 2025 23:10:17.225 * PRIMARY <-> REPLICA sync: receiving streamed RDB from primary with EOF to parser
19553:S 03 May 2025 23:10:17.225 * Discarding previously cached primary state.
19553:S 03 May 2025 23:10:17.225 * PRIMARY <-> REPLICA sync: Flushing old data
19553:S 03 May 2025 23:10:17.225 * PRIMARY <-> REPLICA sync: Loading DB in memory
19553:S 03 May 2025 23:10:17.225 * Loading RDB produced by Valkey version 255.255.255
19553:S 03 May 2025 23:10:17.225 * RDB age 0 seconds
19553:S 03 May 2025 23:10:17.225 * RDB memory usage when created 13.73 Mb
19553:signal-handler (1746281417) 
--- WATCHDOG TIMER EXPIRED ---

------ STACK TRACE ------
EIP:
0   libsystem_kernel.dylib              0x000000018b58c7dc read + 8

Backtrace:
0   libsystem_platform.dylib            0x000000018b607624 _sigtramp + 56
1   valkey-server                       0x0000000101012a04 connSocketRead + 84
2   valkey-server                       0x0000000100f99d38 rioConnRead + 1240
3   valkey-server                       0x0000000100f3b480 rdbLoadRioWithLoadingCtx + 580
4   valkey-server                       0x0000000100f2e60c readSyncBulkPayload + 3144
5   valkey-server                       0x0000000101011ef8 connSocketEventHandler + 180
6   valkey-server                       0x0000000100ed2c58 aeProcessEvents + 356
7   valkey-server                       0x0000000100efbf4c main + 27000
8   dyld                                0x000000018b22eb4c start + 6000

------ STACK TRACE DONE ------
19553:signal-handler (1746281417) --------

19553:S 03 May 2025 23:10:17.492 # Short read or OOM loading DB. Unrecoverable error, aborting now.
19553:S 03 May 2025 23:10:17.492 # Internal error in RDB reading offset 2000506, function at rdb.c:3415 -> Unexpected EOF reading RDB file. Failure loading rdb format from socket, assuming connection error, resuming operation.
19553:S 03 May 2025 23:10:17.492 # Failed trying to load the PRIMARY synchronization DB from socket, check server logs.
19553:S 03 May 2025 23:10:17.492 * PRIMARY <-> REPLICA sync: Discarding the half-loaded data
19553:S 03 May 2025 23:10:17.492 * Reconnecting to PRIMARY 127.0.0.1:27713 after failure
19553:S 03 May 2025 23:10:17.492 * PRIMARY <-> REPLICA sync started
19553:S 03 May 2025 23:10:17.492 # Error condition on socket for SYNC: Connection refused
19553:S 03 May 2025 23:10:17.515 - Client closed connection id=3 addr=127.0.0.1:50486 laddr=127.0.0.1:27712 fd=12 name= age=0 idle=0 flags=N capa= db=9 sub=0 psub=0 ssub=0 multi=-1 watch=0 qbuf=0 qbuf-free=16890 argv-mem=0 multi-mem=0 rbs=6656 rbp=6584 obl=0 oll=0 omem=0 tot-mem=24064 events=r cmd=info user=default redir=-1 resp=2 lib-name= lib-ver= tot-net-in=206 tot-net-out=6604 tot-cmds=5
19553:signal-handler (1746281417) Received SIGTERM scheduling shutdown...
19553:S 03 May 2025 23:10:17.593 * User requested shutdown...
19553:S 03 May 2025 23:10:17.593 * Removing the pid file.
19553:S 03 May 2025 23:10:17.593 * Removing the unix socket file.
19553:S 03 May 2025 23:10:17.593 # Valkey is now ready to exit, bye bye...

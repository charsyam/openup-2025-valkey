### Starting server for test 
91016:M 03 May 2025 23:04:38.514 # WARNING: Changing databases number from 16 to 1 since we are in cluster mode
91016:M 03 May 2025 23:04:38.514 * oO0OoO0OoO0Oo Valkey is starting oO0OoO0OoO0Oo
91016:M 03 May 2025 23:04:38.514 * Valkey version=255.255.255, bits=64, commit=06ac4d81, modified=0, pid=91016, just started
91016:M 03 May 2025 23:04:38.514 * Configuration loaded
91016:M 03 May 2025 23:04:38.515 * Increased maximum number of open files to 10032 (it was originally set to 256).
91016:M 03 May 2025 23:04:38.515 * monotonic clock: POSIX clock_gettime
91016:M 03 May 2025 23:04:38.515 # Failed to write PID file: Permission denied
                .+^+.                                                
            .+#########+.                                            
        .+########+########+.           Valkey 255.255.255 (06ac4d81/0) 64 bit
    .+########+'     '+########+.                                    
 .########+'     .+.     '+########.    Running in cluster mode
 |####+'     .+#######+.     '+####|    Port: 25132
 |###|   .+###############+.   |###|    PID: 91016                     
 |###|   |#####*'' ''*#####|   |###|                                 
 |###|   |####'  .-.  '####|   |###|                                 
 |###|   |###(  (@@@)  )###|   |###|          https://valkey.io      
 |###|   |####.  '-'  .####|   |###|                                 
 |###|   |#####*.   .*#####|   |###|                                 
 |###|   '+#####|   |#####+'   |###|                                 
 |####+.     +##|   |#+'     .+####|                                 
 '#######+   |##|        .+########'                                 
    '+###|   |##|    .+########+'                                    
        '|   |####+########+'                                        
             +#########+'                                            
                '+v+'                                                

91016:M 03 May 2025 23:04:38.515 # WARNING: The TCP backlog setting of 511 cannot be enforced because kern.ipc.somaxconn is set to the lower value of 128.
91016:M 03 May 2025 23:04:38.515 * No cluster configuration found, I'm 03d642f396d095a0d0045877e57adc85cb28927a
91016:M 03 May 2025 23:04:38.521 * Server initialized
91016:M 03 May 2025 23:04:38.521 * Ready to accept connections tcp
91016:M 03 May 2025 23:04:38.521 * Ready to accept connections unix
91016:M 03 May 2025 23:04:38.640 - Accepted 127.0.0.1:62618
91016:M 03 May 2025 23:04:38.640 - Client closed connection id=2 addr=127.0.0.1:62618 laddr=127.0.0.1:25132 fd=14 name= age=0 idle=0 flags=N capa= db=0 sub=0 psub=0 ssub=0 multi=-1 watch=0 qbuf=0 qbuf-free=16890 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=33792 events=r cmd=ping user=default redir=-1 resp=2 lib-name= lib-ver= tot-net-in=7 tot-net-out=7 tot-cmds=1
91016:M 03 May 2025 23:04:38.650 - Accepted 127.0.0.1:62622
91016:M 03 May 2025 23:04:38.650 * Cluster meet 127.0.0.1:25131 (user request from 'id=3 addr=127.0.0.1:62622 laddr=127.0.0.1:25132 fd=14 name= user=default lib-name= lib-ver=').
91016:M 03 May 2025 23:04:38.650 * Cluster meet 127.0.0.1:25130 (user request from 'id=3 addr=127.0.0.1:62622 laddr=127.0.0.1:25132 fd=14 name= user=default lib-name= lib-ver=').
91016:M 03 May 2025 23:04:38.650 * Cluster meet 127.0.0.1:25129 (user request from 'id=3 addr=127.0.0.1:62622 laddr=127.0.0.1:25132 fd=14 name= user=default lib-name= lib-ver=').
91016:M 03 May 2025 23:04:38.650 * Cluster meet 127.0.0.1:25128 (user request from 'id=3 addr=127.0.0.1:62622 laddr=127.0.0.1:25132 fd=14 name= user=default lib-name= lib-ver=').
91016:M 03 May 2025 23:04:38.650 * Cluster meet 127.0.0.1:25127 (user request from 'id=3 addr=127.0.0.1:62622 laddr=127.0.0.1:25132 fd=14 name= user=default lib-name= lib-ver=').
91016:M 03 May 2025 23:04:38.650 * Cluster meet 127.0.0.1:25126 (user request from 'id=3 addr=127.0.0.1:62622 laddr=127.0.0.1:25132 fd=14 name= user=default lib-name= lib-ver=').
91016:M 03 May 2025 23:04:38.651 # Missing implement of connection type tls
91016:M 03 May 2025 23:04:38.733 - Accepting cluster node connection from 127.0.0.1:62659
91016:M 03 May 2025 23:04:38.733 * IP address for this node updated to 127.0.0.1
91016:M 03 May 2025 23:04:38.733 * Successfully completed handshake with 2db3d3b7594e43e5073806ebdaede954a551e7ca ()
91016:M 03 May 2025 23:04:38.733 * configEpoch collision with node 2db3d3b7594e43e5073806ebdaede954a551e7ca (). configEpoch set to 1
91016:M 03 May 2025 23:04:38.739 - Accepting cluster node connection from 127.0.0.1:62660
91016:M 03 May 2025 23:04:38.739 * Successfully completed handshake with d60a6518733281d318ab0cddf129b1ae4944ccb5 ()
91016:M 03 May 2025 23:04:38.740 - Accepting cluster node connection from 127.0.0.1:62661
91016:M 03 May 2025 23:04:38.742 * Successfully completed handshake with 1e4866bacd4c14226121eca952f8123ee04e3aa7 ()
91016:M 03 May 2025 23:04:38.747 - Accepting cluster node connection from 127.0.0.1:62662
91016:M 03 May 2025 23:04:38.747 * Successfully completed handshake with d732947d57a84aea5d94986d0ee0d8162592261d ()
91016:M 03 May 2025 23:04:38.777 - Accepting cluster node connection from 127.0.0.1:62674
91016:M 03 May 2025 23:04:38.777 * Successfully completed handshake with 5e69d738b6095b48c3b61286f13f7b2d9b1b1f09 ()
91016:M 03 May 2025 23:04:38.792 - Accepting cluster node connection from 127.0.0.1:62678
91016:M 03 May 2025 23:04:38.792 * Successfully completed handshake with 3c7924833729108022a026947e653d916643fd7d ()
91016:M 03 May 2025 23:04:38.852 * configEpoch collision with node d60a6518733281d318ab0cddf129b1ae4944ccb5 (). configEpoch set to 3
91016:M 03 May 2025 23:04:39.060 - Accepted 127.0.0.1:62791
91016:M 03 May 2025 23:04:39.060 * Node 3c7924833729108022a026947e653d916643fd7d () is no longer primary of shard a5be76b00a2a934cd9d9ba79fdf63d3057b9df5b; removed all 0 slot(s) it used to own
91016:M 03 May 2025 23:04:39.060 * Node 3c7924833729108022a026947e653d916643fd7d () is now part of shard ae85c097ce5b4282157c1a1a0faff3df8f023a15
91016:M 03 May 2025 23:04:39.060 * Node 3c7924833729108022a026947e653d916643fd7d () is now a replica of node 03d642f396d095a0d0045877e57adc85cb28927a () in shard ae85c097ce5b4282157c1a1a0faff3df8f023a15
91016:M 03 May 2025 23:04:39.061 - Accepted 127.0.0.1:62792
91016:M 03 May 2025 23:04:39.061 * Node 2db3d3b7594e43e5073806ebdaede954a551e7ca () is no longer primary of shard 4612a9aa4c5e764f0b29e4dd22f655e5d31b6f50; removed all 0 slot(s) it used to own
91016:M 03 May 2025 23:04:39.061 * Node 2db3d3b7594e43e5073806ebdaede954a551e7ca () is now part of shard ae85c097ce5b4282157c1a1a0faff3df8f023a15
91016:M 03 May 2025 23:04:39.061 * Node 2db3d3b7594e43e5073806ebdaede954a551e7ca () is now a replica of node 03d642f396d095a0d0045877e57adc85cb28927a () in shard ae85c097ce5b4282157c1a1a0faff3df8f023a15
91016:M 03 May 2025 23:04:39.062 * Replica 127.0.0.1:25129 asks for synchronization
91016:M 03 May 2025 23:04:39.062 * Full resync requested by replica 127.0.0.1:25129
91016:M 03 May 2025 23:04:39.062 * Replication backlog created, my new replication IDs are '76d6df6848321836112a72894de50b63398ae17b' and '0000000000000000000000000000000000000000'
91016:M 03 May 2025 23:04:39.062 * Starting BGSAVE for SYNC with target: replicas sockets using: normal sync
91016:M 03 May 2025 23:04:39.063 * Background RDB transfer started by pid 91094 to pipe through parent process
91016:M 03 May 2025 23:04:39.064 * Node d60a6518733281d318ab0cddf129b1ae4944ccb5 () is no longer primary of shard f5f138fc00a459f62f9539f272f9b3073b86f5bb; removed all 0 slot(s) it used to own
91016:M 03 May 2025 23:04:39.064 * Node d60a6518733281d318ab0cddf129b1ae4944ccb5 () is now part of shard 9f957f82c8c8ad3701d0fcfcf30d4a8a3594f330
91016:M 03 May 2025 23:04:39.064 * Node d60a6518733281d318ab0cddf129b1ae4944ccb5 () is now a replica of node d732947d57a84aea5d94986d0ee0d8162592261d () in shard 9f957f82c8c8ad3701d0fcfcf30d4a8a3594f330
91016:M 03 May 2025 23:04:39.064 * Node 1e4866bacd4c14226121eca952f8123ee04e3aa7 () is no longer primary of shard 44e3f305cfe01dc1abdb2b45346fa13725e09485; removed all 0 slot(s) it used to own
91016:M 03 May 2025 23:04:39.064 * Node 1e4866bacd4c14226121eca952f8123ee04e3aa7 () is now part of shard c91a1ffa5aacd298005df82a33bf2f8f72e1c75d
91016:M 03 May 2025 23:04:39.064 * Node 1e4866bacd4c14226121eca952f8123ee04e3aa7 () is now a replica of node 5e69d738b6095b48c3b61286f13f7b2d9b1b1f09 () in shard c91a1ffa5aacd298005df82a33bf2f8f72e1c75d
91016:M 03 May 2025 23:04:39.064 # DEBUG LOG: ========== I am primary 0 ==========
91016:M 03 May 2025 23:04:39.064 * Replica 127.0.0.1:25126 asks for synchronization
91016:M 03 May 2025 23:04:39.064 * Full resync requested by replica 127.0.0.1:25126
91016:M 03 May 2025 23:04:39.064 * Current BGSAVE has socket target. Waiting for next BGSAVE for SYNC
91094:C 03 May 2025 23:04:39.065 * Fork CoW for RDB: current 0 MB, peak 0 MB, average 0 MB
91016:M 03 May 2025 23:04:39.065 * Diskless rdb transfer, done reading from pipe, 1 replicas still up.
91016:M 03 May 2025 23:04:39.069 * Background RDB transfer terminated with success
91016:M 03 May 2025 23:04:39.069 * Streamed RDB transfer with replica 127.0.0.1:25129 succeeded (socket). Waiting for REPLCONF ACK from replica to enable streaming
91016:M 03 May 2025 23:04:39.069 * Synchronization with replica 127.0.0.1:25129 succeeded
91016:M 03 May 2025 23:04:39.069 * Starting BGSAVE for SYNC with target: replicas sockets using: normal sync
91016:M 03 May 2025 23:04:39.070 * Background RDB transfer started by pid 91097 to pipe through parent process
91097:C 03 May 2025 23:04:39.071 * Fork CoW for RDB: current 0 MB, peak 0 MB, average 0 MB
91016:M 03 May 2025 23:04:39.072 * Diskless rdb transfer, done reading from pipe, 1 replicas still up.
91016:M 03 May 2025 23:04:39.076 * Background RDB transfer terminated with success
91016:M 03 May 2025 23:04:39.076 * Streamed RDB transfer with replica 127.0.0.1:25126 succeeded (socket). Waiting for REPLCONF ACK from replica to enable streaming
91016:M 03 May 2025 23:04:39.076 * Synchronization with replica 127.0.0.1:25126 succeeded
91016:M 03 May 2025 23:04:40.544 * Cluster state changed: ok
### Starting test Set cluster hostnames and verify they are propagated in tests/unit/cluster/hostnames.tcl
### Starting test Update hostnames and make sure they are all eventually propagated in tests/unit/cluster/hostnames.tcl
### Starting test Remove hostnames and make sure they are all eventually propagated in tests/unit/cluster/hostnames.tcl
### Starting test Verify cluster-preferred-endpoint-type behavior for redirects and info in tests/unit/cluster/hostnames.tcl
### Starting test Verify the nodes configured with prefer hostname only show hostname for new nodes in tests/unit/cluster/hostnames.tcl
91016:M 03 May 2025 23:04:49.583 - Client closed connection id=11 addr=127.0.0.1:62792 laddr=127.0.0.1:25132 fd=28 name= age=10 idle=0 flags=S capa= db=0 sub=0 psub=0 ssub=0 multi=-1 watch=0 qbuf=0 qbuf-free=16890 argv-mem=0 multi-mem=0 rbs=1024 rbp=0 obl=0 oll=1 omem=16920 tot-mem=35352 events=r cmd=replconf user=default redir=-1 resp=2 lib-name= lib-ver= tot-net-in=702 tot-net-out=41 tot-cmds=18
91016:M 03 May 2025 23:04:49.583 * Connection with replica 127.0.0.1:25126 lost.
91016:M 03 May 2025 23:04:49.590 * FAIL message received from d732947d57a84aea5d94986d0ee0d8162592261d () about 2db3d3b7594e43e5073806ebdaede954a551e7ca ()
91016:M 03 May 2025 23:04:49.590 * Cluster forget 2db3d3b7594e43e5073806ebdaede954a551e7ca (user request from 'id=3 addr=127.0.0.1:62622 laddr=127.0.0.1:25132 fd=14 name= user=default lib-name= lib-ver=').
91016:M 03 May 2025 23:04:50.053 - Accepting cluster node connection from 127.0.0.1:50311
### Starting test Test restart will keep hostname information in tests/unit/cluster/hostnames.tcl
91016:M 03 May 2025 23:04:50.565 * CONFIG REWRITE executed with success.
91016:M 03 May 2025 23:04:50.565 - Client closed connection id=3 addr=127.0.0.1:62622 laddr=127.0.0.1:25132 fd=14 name= age=12 idle=0 flags=N capa= db=0 sub=0 psub=0 ssub=0 multi=0 watch=0 qbuf=0 qbuf-free=16890 argv-mem=0 multi-mem=0 rbs=2048 rbp=1024 obl=0 oll=0 omem=0 tot-mem=19456 events=r cmd=config|rewrite user=default redir=-1 resp=2 lib-name= lib-ver= tot-net-in=8005 tot-net-out=322532 tot-cmds=248
### Starting test Check for memory leaks (pid 91016) in tests/unit/cluster/hostnames.tcl
91016:signal-handler (1746281092) Received SIGTERM scheduling shutdown...
91016:M 03 May 2025 23:04:52.119 * User requested shutdown...
91016:M 03 May 2025 23:04:52.119 * 1 of 1 replicas are in sync when shutting down.
91016:M 03 May 2025 23:04:52.119 * Removing the pid file.
91016:M 03 May 2025 23:04:52.119 * Saving the cluster configuration file before exiting.
91016:M 03 May 2025 23:04:52.128 * Removing the unix socket file.
91016:M 03 May 2025 23:04:52.128 # Valkey is now ready to exit, bye bye...
### Restarting server for test Test restart will keep hostname information in tests/unit/cluster/hostnames.tcl
93066:M 03 May 2025 23:04:52.161 * oO0OoO0OoO0Oo Valkey is starting oO0OoO0OoO0Oo
93066:M 03 May 2025 23:04:52.163 * Valkey version=255.255.255, bits=64, commit=06ac4d81, modified=0, pid=93066, just started
93066:M 03 May 2025 23:04:52.163 * Configuration loaded
93066:M 03 May 2025 23:04:52.163 * Increased maximum number of open files to 10032 (it was originally set to 256).
93066:M 03 May 2025 23:04:52.164 * monotonic clock: POSIX clock_gettime
93066:M 03 May 2025 23:04:52.165 # Failed to write PID file: Permission denied
                .+^+.                                                
            .+#########+.                                            
        .+########+########+.           Valkey 255.255.255 (06ac4d81/0) 64 bit
    .+########+'     '+########+.                                    
 .########+'     .+.     '+########.    Running in cluster mode
 |####+'     .+#######+.     '+####|    Port: 25132
 |###|   .+###############+.   |###|    PID: 93066                     
 |###|   |#####*'' ''*#####|   |###|                                 
 |###|   |####'  .-.  '####|   |###|                                 
 |###|   |###(  (@@@)  )###|   |###|          https://valkey.io      
 |###|   |####.  '-'  .####|   |###|                                 
 |###|   |#####*.   .*#####|   |###|                                 
 |###|   '+#####|   |#####+'   |###|                                 
 |####+.     +##|   |#+'     .+####|                                 
 '#######+   |##|        .+########'                                 
    '+###|   |##|    .+########+'                                    
        '|   |####+########+'                                        
             +#########+'                                            
                '+v+'                                                

93066:M 03 May 2025 23:04:52.165 # WARNING: The TCP backlog setting of 511 cannot be enforced because kern.ipc.somaxconn is set to the lower value of 128.
93066:M 03 May 2025 23:04:52.165 * Node configuration loaded, I'm 03d642f396d095a0d0045877e57adc85cb28927a
93066:M 03 May 2025 23:04:52.165 * Server initialized
93066:M 03 May 2025 23:04:52.165 * Ready to accept connections tcp
93066:M 03 May 2025 23:04:52.165 * Ready to accept connections unix
93066:M 03 May 2025 23:04:52.170 - Accepting cluster node connection from 127.0.0.1:51157
93066:M 03 May 2025 23:04:52.170 - Accepting cluster node connection from 127.0.0.1:51158
93066:M 03 May 2025 23:04:52.207 - Accepting cluster node connection from 127.0.0.1:51168
93066:M 03 May 2025 23:04:52.227 - Accepting cluster node connection from 127.0.0.1:51174
93066:M 03 May 2025 23:04:52.244 - Accepting cluster node connection from 127.0.0.1:51193
93066:M 03 May 2025 23:04:52.244 - Accepting cluster node connection from 127.0.0.1:51194
93066:M 03 May 2025 23:04:52.296 - Accepted 127.0.0.1:51200
93066:M 03 May 2025 23:04:52.296 # Missing implement of connection type tls
### Starting test Test hostname validation in tests/unit/cluster/hostnames.tcl
93066:M 03 May 2025 23:04:52.306 - Client closed connection id=2 addr=127.0.0.1:51200 laddr=127.0.0.1:25132 fd=26 name= age=0 idle=0 flags=N capa= db=0 sub=0 psub=0 ssub=0 multi=-1 watch=0 qbuf=0 qbuf-free=16890 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=33792 events=r cmd=config|set user=default redir=-1 resp=2 lib-name= lib-ver= tot-net-in=602 tot-net-out=3258 tot-cmds=6
93066:M 03 May 2025 23:04:53.544 - Accepted 127.0.0.1:51533
93066:M 03 May 2025 23:04:53.550 * Replica 127.0.0.1:25129 asks for synchronization
93066:M 03 May 2025 23:04:53.551 * Partial resynchronization not accepted: Replication ID mismatch (Replica asked for '76d6df6848321836112a72894de50b63398ae17b', my replication IDs are '38706b47a69dc9840f5dca4d7fa6f789a77cb0c2' and '0000000000000000000000000000000000000000')
93066:M 03 May 2025 23:04:53.551 * Replication backlog created, my new replication IDs are '1aa49b8d6c528b85e1802ac2d8f91ec530a3028c' and '0000000000000000000000000000000000000000'
93066:M 03 May 2025 23:04:53.552 * Starting BGSAVE for SYNC with target: replicas sockets using: normal sync
93066:M 03 May 2025 23:04:53.554 * Background RDB transfer started by pid 93241 to pipe through parent process
93241:C 03 May 2025 23:04:53.554 * Fork CoW for RDB: current 0 MB, peak 0 MB, average 0 MB
93066:M 03 May 2025 23:04:53.557 * Diskless rdb transfer, done reading from pipe, 1 replicas still up.
93066:signal-handler (1746281093) Received SIGTERM scheduling shutdown...
93066:M 03 May 2025 23:04:53.580 * Background RDB transfer terminated with success
93066:M 03 May 2025 23:04:53.580 * Streamed RDB transfer with replica 127.0.0.1:25129 succeeded (socket). Waiting for REPLCONF ACK from replica to enable streaming
93066:M 03 May 2025 23:04:53.580 * Synchronization with replica 127.0.0.1:25129 succeeded
93066:M 03 May 2025 23:04:53.645 * User requested shutdown...
93066:M 03 May 2025 23:04:53.645 * 1 of 1 replicas are in sync when shutting down.
93066:M 03 May 2025 23:04:53.645 * Removing the pid file.
93066:M 03 May 2025 23:04:53.645 * Saving the cluster configuration file before exiting.
93066:M 03 May 2025 23:04:53.653 * Removing the unix socket file.
93066:M 03 May 2025 23:04:53.653 # Valkey is now ready to exit, bye bye...
